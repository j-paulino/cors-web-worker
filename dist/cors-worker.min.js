!function(){"use strict";function request(verb){return function(url){var promise=new Promise(function(resolve,reject){var request=new XMLHttpRequest;request.open(verb,url),request.send(),request.onload=function(){this.status>=200&&this.status<305?resolve(this.responseText):reject(this.statusText)},request.onerror=function(){reject(this.statusText)}});return promise}}var http={get:request("get")};window.http=http}(),function(){"use strict";function CORSWorker(url,dontFetchImmediately){var self=this;this.url=url,this.__msgQueue=[],this.__eventsQueue=[],dontFetchImmediately||self.fetch()}function processQueues(foreignWorker){var msgArgs,i,msgQueueLen=foreignWorker.__msgQueue.length,worker=foreignWorker.worker;for("function"==typeof foreignWorker.onmessage&&(worker.onmessage=foreignWorker.onmessage),"function"==typeof foreignWorker.onerror&&(worker.onerror=foreignWorker.onerror),foreignWorker.__eventsQueue.forEach(function(eventArgs){worker.addEventListener.apply(foreignWorker.worker,eventArgs)}),i=0;msgQueueLen>i;i++){if(msgArgs=foreignWorker.__msgQueue[i],"__terminate__"===msgArgs){worker.terminate();break}worker.postMessage.apply(foreignWorker.worker,msgArgs)}foreignWorker.__msgQueue=null,foreignWorker.__eventsQueue=null}CORSWorker.prototype.fetch=function(){var self=this;return http.get(this.url).then(function(resText){var blob=new Blob([resText],{type:"application/javascript"});return self.worker=new Worker(window.URL.createObjectURL(blob)),processQueues(self),self.worker})},CORSWorker.prototype.postMessage=function(){this.worker?this.worker.postMessage.apply(this.worker,arguments):this.__msgQueue.push(arguments)},CORSWorker.prototype.addEventListener=function(){this.worker?this.worker.addEventListener.apply(this.worker,arguments):this.__eventsQueue.push(arguments)},CORSWorker.prototype.terminate=function(){this.worker?this.worker.terminate():this.__msgQueue.push("__terminate__")},window.CORSWorker=CORSWorker}();